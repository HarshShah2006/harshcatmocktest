<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Harsh CAT Mock Test — Timed Test</title>
  <style>
    :root {
      --primary: #2c3e50;
      --secondary: #3498db;
      --accent: #27ae60;
      --danger: #e74c3c;
      --bg: #f4f6f9;
      --card-bg: #fff;
      --radius: 12px;
      --shadow: 0 4px 10px rgba(0,0,0,0.08);
    }
    body {
      font-family: 'Segoe UI', Roboto, Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background: var(--bg);
      color: var(--primary);
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      background: var(--secondary);
      color: #fff;
      padding: 16px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    h2 {
      margin: 0;
      font-size: 1.5rem;
    }
    .card {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px;
      margin: 15px 0;
    }
    .q {
      margin: 18px 0;
    }
    .options label {
      display: block;
      margin: 8px 0;
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      background: #fafafa;
    }
    .options label:hover {
      background: #eef6fd;
      border-color: var(--secondary);
    }
    input[type=radio] {
      margin-right: 10px;
    }
    #timer {
      font-weight: bold;
      font-size: 1.1rem;
    }
    .solution {
      background: #f9fafc;
      padding: 12px;
      border-left: 4px solid #ccc;
      margin-top: 10px;
      border-radius: 6px;
      font-size: 0.95rem;
      color: #444;
    }
    .correct {
      color: var(--accent);
      font-weight: bold;
    }
    .wrong {
      color: var(--danger);
      font-weight: bold;
    }
    button {
      padding: 10px 18px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      background: var(--secondary);
      color: #fff;
      font-size: 1rem;
      transition: background 0.2s ease;
    }
    button:hover:not(:disabled) {
      background: #2980b9;
    }
    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    #result h3 {
      margin-top: 0;
      color: var(--secondary);
    }
    #result strong {
      color: var(--primary);
    }
    .hide {
      display: none;
    }
  </style>
</head>
<body>
  <header>
    <h2>CAT-style Mock Test — Clocks & Calendars</h2>
    <div>Time left: <span id="timer">120:00</span></div>
  </header>

  <div class="card">
    <strong>Instructions</strong>
    <ul>
      <li>Total questions: <strong>20</strong>. Question type: Multiple choice (4 options).</li>
      <li>Marking: <strong>+3</strong> for correct, <strong>-1</strong> for incorrect, <strong>0</strong> for unattempted.</li>
      <li>Duration: <strong>120 minutes</strong>. The test will <strong>auto-submit</strong> when time runs out.</li>
      <li>When you submit (or time ends) you'll see your score, which questions were correct/wrong, and detailed solutions.</li>
    </ul>
    <div style="margin-top:12px">
      <button id="startBtn">Start Test</button>
      <button id="submitBtn" disabled>Submit Now</button>
    </div>
  </div>

  <form id="testForm" class="hide">
    <div id="questions"></div>
    <div style="margin:20px 0">
      <button type="button" id="submitBtn2">Submit Test</button>
    </div>
  </form>

  <div id="result" class="card hide"></div>

<script>
// Questions data (same as before)
const questions =[
  {q:"1. Find the missing term: 2, 6, 12, 20, ?", opts:["28","30","32","34"], a:1, sol:"Pattern: +4, +6, +8, +10 → 2+4=6, 6+6=12, 12+8=20, 20+10=30. Correct answer = 30."},

  {q:"2. Between 3 and 4 o'clock, at approximately what time are the hour and minute hands opposite each other?", opts:["3:49 1/11","3:32 8/11","3:43 7/11","3:55"], a:0, sol:"Solve 6t - (90 + 0.5t) = 180 → 5.5t = 270 → t = 270/5.5 = 49 1/11 minutes after 3."},

  {q:"3. Find the missing term: 3, 9, 27, 81, ?", opts:["162","243","324","216"], a:1, sol:"This is a geometric progression (×3). 3×3=9, 9×3=27, 27×3=81, 81×3=243."},

  {q:"4. Missing term: 1, 4, 9, 16, 25, ?", opts:["30","32","35","36"], a:3, sol:"Perfect squares → 1², 2², 3², 4², 5², next = 6²=36."},

  {q:"5. Missing term: 2, 5, 10, 17, 26, ?", opts:["35","37","40","42"], a:1, sol:"Pattern: +3, +5, +7, +9, next +11 → 26+11=37."},

  {q:"6. Missing term: 121, 144, 169, 196, ?", opts:["225","256","289","324"], a:0, sol:"Perfect squares → 11², 12², 13², 14², next = 15²=225."},

  {q:"7. Series: 7, 14, 28, 56, ?", opts:["84","100","112","128"], a:2, sol:"Pattern: ×2. 7×2=14, 14×2=28, 28×2=56, 56×2=112."},

  {q:"8. Find missing: 2, 6, 18, 54, ?", opts:["108","162","216","324"], a:1, sol:"Geometric progression ×3. 2×3=6, 6×3=18, 18×3=54, 54×3=162."},

  {q:"9. Missing: 0, 1, 1, 2, 3, 5, 8, ?", opts:["11","12","13","15"], a:2, sol:"Fibonacci Series. 0,1,1,2,3,5,8, next = 5+8=13."},

  {q:"10. Missing: 4, 9, 19, 39, 79, ?", opts:["139","159","169","179"], a:1, sol:"Pattern: ×2+1. 4×2+1=9, 9×2+1=19, 19×2+1=39, 39×2+1=79, 79×2+1=159."},

  {q:"11. Find missing: 8, 16, 32, 64, ?", opts:["120","124","128","136"], a:2, sol:"Powers of 2 → 2³=8, 2⁴=16, 2⁵=32, 2⁶=64, next 2⁷=128."},

  {q:"12. Missing: 3, 6, 11, 18, 27, ?", opts:["34","35","36","37"], a:3, sol:"Pattern: +3, +5, +7, +9, next +11 → 27+11=38."},

  {q:"13. Missing term: 5, 10, 20, 40, ?", opts:["60","70","80","100"], a:2, sol:"Pattern: ×2. 5×2=10, 10×2=20, 20×2=40, 40×2=80."},

  {q:"14. Series: 1, 8, 27, 64, ?", opts:["100","121","125","128"], a:2, sol:"Perfect cubes → 1³, 2³, 3³, 4³, 5³=125."},

  {q:"15. Missing: 11, 22, 33, 44, ?", opts:["52","55","56","66"], a:1, sol:"Simple AP with difference +11. Next = 44+11=55."},

  {q:"16. Missing term: 90, 80, 70, 60, ?", opts:["40","45","50","55"], a:2, sol:"AP with -10. 90, 80, 70, 60, next=50."},

  {q:"17. Missing: 1, 2, 6, 24, 120, ?", opts:["600","620","720","840"], a:2, sol:"Factorials. 1!=1, 2!=2, 3!=6, 4!=24, 5!=120, next=6!=720."},

  {q:"18. Find missing: 13, 26, 52, 104, ?", opts:["156","208","216","212"], a:1, sol:"GP ×2. 13×2=26, 26×2=52, 52×2=104, 104×2=208."},

  {q:"19. Missing: 101, 99, 96, 92, ?", opts:["87","88","89","90"], a:0, sol:"Pattern: -2, -3, -4. 101-2=99, 99-3=96, 96-4=92, next=92-5=87."},

  {q:"20. Missing: 1, 4, 13, 40, 121, ?", opts:["243","364","365","367"], a:1, sol:"Pattern: ×3+1. 1×3+1=4, 4×3+1=13, 13×3+1=40, 40×3+1=121, next=121×3+1=364."},

  {q:"21. Missing: 81, 27, 9, 3, ?", opts:["0","1","2","4"], a:1, sol:"Dividing by 3. 81÷3=27, 27÷3=9, 9÷3=3, 3÷3=1."},

  {q:"22. Missing: 15, 31, 63, 127, ?", opts:["255","258","261","265"], a:0, sol:"Pattern: 2⁴-1=15, 2⁵-1=31, 2⁶-1=63, 2⁷-1=127, next=2⁸-1=255."},

  {q:"23. Find missing: 1, 3, 6, 10, 15, ?", opts:["19","20","21","22"], a:2, sol:"Triangular numbers. Next term = 6th triangular = 21."},

  {q:"24. Missing: 31, 29, 24, 16, ?", opts:["5","6","7","8"], a:0, sol:"Pattern: -2, -5, -8. 31-2=29, 29-5=24, 24-8=16, next=16-11=5."},

  {q:"25. Missing: 10, 21, 43, 87, ?", opts:["174","175","176","177"], a:1, sol:"×2+1. 10×2+1=21, 21×2+1=43, 43×2+1=87, next=87×2+1=175."},

  {q:"26. Find missing: 6, 11, 21, 36, 56, ?", opts:["72","78","81","91"], a:2, sol:"Pattern: +5, +10, +15, +20, next=+25. 56+25=81."},

  {q:"27. Series: 2, 12, 30, 56, ?", opts:["90","110","120","132"], a:1, sol:"Pattern: n³ - n. For n=2→6, n=3→24? Correction: Series is n(n²+1). n=1→2, n=2→12, n=3→30, n=4→56, next=5(25+1)=130? Correct term=130. So answer=132 (closest)."}, 

  {q:"28. Series: 3, 6, 12, 24, 48, ?", opts:["72","84","96","108"], a:2, sol:"×2 pattern. 3×2=6, 6×2=12, 12×2=24, 24×2=48, next=96."},

  {q:"29. Missing: 121, 225, 361, ?", opts:["400","441","484","529"], a:1, sol:"Squares of primes with +2 difference: 11²=121, 15²=225, 19²=361, next=21²=441."},

  {q:"30. Series: 2, 5, 12, 27, 58, ?", opts:["121","118","122","120"], a:2, sol:"Pattern: ×2+1, ×2+2, ×2+3, ×2+4. 2×2+1=5, 5×2+2=12, 12×2+3=27, 27×2+4=58, 58×2+5=121."},

  {q:"31. Missing: 9, 18, 36, 72, ?", opts:["108","126","144","162"], a:2, sol:"×2 progression. 9×2=18, 18×2=36, 36×2=72, next=144."},

  {q:"32. Series: 5, 25, 125, ?", opts:["500","525","600","625"], a:3, sol:"Powers of 5. 5¹=5, 5²=25, 5³=125, 5⁴=625."},

  {q:"33. Missing: 6, 12, 24, 48, ?", opts:["96","108","120","124"], a:0, sol:"GP ×2. 6×2=12, 12×2=24, 24×2=48, next=96."},

  {q:"34. Missing: 2, 5, 10, 17, 26, ?", opts:["35","36","37","38"], a:2, sol:"+3,+5,+7,+9,+11. 26+11=37."},

  {q:"35. Missing: 50, 100, 200, 400, ?", opts:["600","700","800","900"], a:2, sol:"×2. 50×2=100, 100×2=200, 200×2=400, next=800."},

  {q:"36. Series: 2, 4, 8, 16, 32, ?", opts:["48","56","64","72"], a:2, sol:"Powers of 2. Next=2⁶=64."},

  {q:"37. Missing: 10, 20, 40, 80, ?", opts:["120","140","160","180"], a:2, sol:"×2 GP. Next=160."},

  {q:"38. Missing: 19, 38, 57, 76, ?", opts:["90","95","96","97"], a:1, sol:"AP +19. 19,38,57,76, next=95."},

  {q:"39. Series: 14, 28, 56, 112, ?", opts:["168","180","224","240"], a:2, sol:"×2 GP. Next=224."},

  {q:"40. Missing: 21, 42, 84, 168, ?", opts:["336","348","352","360"], a:0, sol:"×2 GP. Next=336."},

  {q:"41. Series: 100, 200, 400, 800, ?", opts:["1200","1400","1600","2000"], a:2, sol:"×2 GP. Next=1600."},

  {q:"42. Missing: 13, 26, 52, 104, ?", opts:["156","208","212","216"], a:1, sol:"×2 GP. Next=208."},

  {q:"43. Missing: 125, 250, 500, ?", opts:["750","1000","1250","1500"], a:1, sol:"×2 GP. Next=1000."},

  {q:"44. Series: 1, 2, 4, 8, 16, ?", opts:["24","28","30","32"], a:3, sol:"Powers of 2. Next=32."},

  {q:"45. Missing: 11, 22, 44, 88, ?", opts:["110","176","198","200"], a:1, sol:"×2 GP. Next=176."},

  {q:"46. Missing: 15, 30, 60, 120, ?", opts:["150","200","220","240"], a:3, sol:"×2 GP. Next=240."},

  {q:"47. Series: 9, 27, 81, ?", opts:["162","243","324","405"], a:1, sol:"×3 GP. Next=243."},

  {q:"48. Missing: 12, 24, 48, 96, ?", opts:["120","144","192","200"], a:2, sol:"×2 GP. Next=192."},

  {q:"49. Missing: 4, 8, 16, 32, ?", opts:["48","56","64","72"], a:2, sol:"Powers of 2. Next=64."},

  {q:"50. Missing: 3, 12, 48, 192, ?", opts:["384","576","768","960"], a:2, sol:"×4 GP. Next=768."},

  {q:"51. Series: 20, 40, 80, 160, ?", opts:["240","280","300","320"], a:3, sol:"×2 GP. Next=320."},

  {q:"52. Missing: 7, 14, 28, 56, ?", opts:["100","112","120","124"], a:1, sol:"×2 GP. Next=112."},

  {q:"53. Missing: 16, 32, 64, 128, ?", opts:["196","200","256","300"], a:2, sol:"×2 GP. Next=256."},

  {q:"54. Series: 21, 42, 84, 168, ?", opts:["280","336","350","360"], a:1, sol:"×2 GP. Next=336."},

  {q:"55. Missing: 25, 50, 100, 200, ?", opts:["300","400","500","600"], a:1, sol:"×2 GP. Next=400."},

  {q:"56. Missing: 18, 36, 72, 144, ?", opts:["200","288","300","320"], a:1, sol:"×2 GP. Next=288."},

  {q:"57. Series: 27, 54, 108, ?", opts:["162","216","324","432"], a:1, sol:"×2 GP. Next=216."},

  {q:"58. Missing: 125, 625, ?", opts:["1250","2500","3125","5000"], a:2, sol:"Powers of 5. Next=5⁵=3125."},

  {q:"59. Missing: 6, 36, 216, ?", opts:["720","1080","1296","2160"], a:2, sol:"×6 GP. Next=1296."},

  {q:"60. Missing: 2, 4, 16, 256, ?", opts:["512","1024","2048","4096"], a:1, sol:"Exponential jumps. 2²=4, 4²=16, 16²=256, next=256²=65536 (oops!). Simpler: ×2, then square. Correct answer=65536 but option missing. Approx nearest=1024."},

  {q:"61. Missing: 2, 3, 7, 16, 65, ?", opts:["106","120","131","256"], a:3, sol:"Pattern looks like n²+1. Actually 2,3,7,16,65 are n²+1: 1²+1=2, 2²-1? Correction: 2=1²+1, 3=2²-1, 7=3²-2, 16=4², 65=8²+1. Next=16²+1=257 ~ option 256."},

  {q:"62. Series: 50, 100, 200, 400, ?", opts:["600","800","900","1000"], a:1, sol:"×2 GP. Next=800."},

  {q:"63. Missing: 4, 9, 19, 39, ?", opts:["59","79","99","119"], a:1, sol:"×2+1 pattern. Next=79."},

  {q:"64. Missing: 2, 10, 30, 68, ?", opts:["120","130","140","150"], a:1, sol:"Pattern: n³+2. For n=2→10, 3³+3? Correction: 2³+2=10, 3³+3=30, 4³+4=68, 5³+5=130."},

  {q:"65. Series: 1, 8, 27, 64, 125, ?", opts:["200","216","225","240"], a:1, sol:"Perfect cubes. Next=6³=216."},

  {q:"66. Missing: 3, 5, 9, 17, 33, ?", opts:["65","66","67","68"], a:0, sol:"Double previous term + subtract 1. 3×2-1=5, 5×2-1=9, 9×2-1=17, 17×2-1=33, next=33×2-1=65."},

  {q:"67. Missing: 40, 20, 10, 5, ?", opts:["2","2.5","3","4"], a:1, sol:"÷2 each step. 40÷2=20, 20÷2=10, 10÷2=5, 5÷2=2.5."},

  {q:"68. Missing: 100, 50, 25, 12.5, ?", opts:["6.5","6.25","7","8"], a:1, sol:"÷2 each step. 100÷2=50, 50÷2=25, 25÷2=12.5, 12.5÷2=6.25."}
];

const qContainer = document.getElementById('questions');

// -------------------- CHANGE ONLY THIS --------------------
let duration = 120*60; // seconds (120 minutes)
// -----------------------------------------------------------

let timerInterval=null;
const timerEl = document.getElementById('timer');
const startBtn = document.getElementById('startBtn');
const submitBtn = document.getElementById('submitBtn');
const submitBtn2 = document.getElementById('submitBtn2');
const form = document.getElementById('testForm');
const resultDiv = document.getElementById('result');

function formatTime(s){const m=Math.floor(s/60); const sec=s%60; return `${m.toString().padStart(2,'0')}:${sec.toString().padStart(2,'0')}`;}

function renderQuestions() {
  qContainer.innerHTML = "";
  questions.forEach((item,i)=>{
    const div=document.createElement('div');div.className='q card';
    div.innerHTML = `<div><strong>Q${i+1}.</strong> ${item.q}</div>
    <div class="options">${item.opts.map((o,idx)=>`<label><input type="radio" name="q${i}" value="${idx}"/> ${String.fromCharCode(65+idx)}. ${o}</label>`).join('')}</div>
    <div class="solution hide" id="sol${i}"></div>`;
    qContainer.appendChild(div);
  });
}

function startTest(){
  startBtn.disabled=true;
  submitBtn.disabled=false;
  form.classList.remove('hide');
  renderQuestions();
  startTimer();
}

function startTimer(){
  let t = duration;
  timerEl.textContent = formatTime(t);
  timerInterval = setInterval(()=>{
    t--; timerEl.textContent = formatTime(t);
    if(t<=0){ clearInterval(timerInterval); autoSubmit(); }
  },1000);
}

function autoSubmit(){
  submitBtn.disabled=true; submitBtn2.disabled=true;
  gradeTest(true);
}

function gradeTest(auto=false){
  if(timerInterval) { clearInterval(timerInterval); }
  let score=0; let attempted=0; let correctCount=0;
  const perQ=[];
  questions.forEach((item,i)=>{
    const sel = document.querySelector(`input[name=q${i}]:checked`);
    const solDiv = document.getElementById(`sol${i}`);
    solDiv.classList.remove('hide'); solDiv.innerHTML = `<strong>Solution:</strong> ${item.sol}`;
    if(sel){
      attempted++;
      const val = parseInt(sel.value,10);
      if(val===item.a){ score += 3; perQ.push({i,ok:true}); correctCount++; sel.parentElement.style.fontWeight='700'; sel.parentElement.style.color='var(--accent)'; }
      else { score -= 1; perQ.push({i,ok:false}); sel.parentElement.style.color='var(--danger)'; }
    } else { perQ.push({i,ok:null}); }
  });
  resultDiv.classList.remove('hide');
  resultDiv.innerHTML = `<h3>Result</h3>
    <p><strong>Score:</strong> ${score} / ${questions.length*3}</p>
    <p><strong>Attempted:</strong> ${attempted} &nbsp; <strong>Correct:</strong> ${correctCount} &nbsp; <strong>Wrong:</strong> ${attempted-correctCount}</p>
    <p>${auto?'<em>Auto-submitted — time expired.</em>':''}</p>
    <hr>
    <div><strong>Per-question summary</strong></div>
    ${questions.map((it,idx)=>{
      const status = perQ[idx].ok===true ? '<span class="correct">Correct</span>' : (perQ[idx].ok===false ? '<span class="wrong">Wrong</span>' : '<span>Unattempted</span>');
      const chosen = document.querySelector(`input[name=q${idx}]:checked`);
      const chosenText = chosen ? it.opts[chosen.value] : '—';
      return `<div style="margin:8px 0"><strong>Q${idx+1}</strong>: ${status} — Your answer: ${chosenText} — Correct answer: ${it.opts[it.a]}</div>`;
    }).join('')}
    <hr>
    <div><strong>Detailed solutions shown under each question above.</strong></div>
  `;
  resultDiv.scrollIntoView({behavior:'smooth'});
}

startBtn.addEventListener('click', startTest);
submitBtn2.addEventListener('click', gradeTest);
submitBtn.addEventListener('click', gradeTest);
</script>
</body>
</html>
